import{m as R,h as l,j as e,v as c,q as X,u as G}from"./index-C4Bhj8Yd.js";import{N as J}from"./Navbar-BOC0zFRs.js";import{B as a}from"./Button-Ba6Qo_8s.js";import{B as K}from"./Badge-TYJagCBS.js";import{T as Y}from"./triangle-alert-DAl9gRpV.js";import{X as E}from"./x-BKaP5agP.js";import{W as Z}from"./wallet-Cz_gNZB9.js";import{S as O}from"./settings-C3lup4LJ.js";import{H as _}from"./history-BnoF5RMu.js";import{M}from"./map-pin-HN--pi6j.js";import{L as ee,P as $}from"./package-x83Y4dGn.js";import{B as se}from"./bike-BMjQcjh8.js";import{S as te}from"./shield-BgYtEKJ5.js";import{L as re}from"./log-out-Dj1F2IBb.js";import{C as ae}from"./circle-check-Bo9AdVTo.js";import{C as le}from"./clock-C0rErjOu.js";import{C as de}from"./circle-x-TpblOwq4.js";import{C as ie}from"./circle-alert-C3ES4sCh.js";import{U as L}from"./user-BxgYsqv1.js";import{S as ne}from"./save-DqJw9DlW.js";import{B as oe}from"./bell-B68-w34E.js";import{C as B}from"./credit-card-BS4bgOGQ.js";import{T as ce}from"./trash-2-BgLld3yM.js";import{P as xe}from"./plus-mHEB3IxS.js";import{L as me}from"./lock-ClWXsEqd.js";import"./search-BdgAM8L-.js";import"./createLucideIcon-DzImHIgp.js";import"./shopping-bag-8vcxqj9-.js";import"./chevron-right-CAW2906d.js";import"./utensils-CiJvdMyj.js";import"./message-square-Dci10IDA.js";const ge=({order:d,isOpen:x,onClose:g})=>{var h;const{fileDispute:o}=R(),[r,p]=l.useState("Missing Items"),[u,f]=l.useState("");if(!x)return null;const j=t=>{t.preventDefault(),o(d.id,`${r}: ${u}`),c.success("Issue reported. Our support team will review it shortly."),g()},y=["Missing Items","Wrong Order","Poor Quality","Never Arrived","Damaged Packaging"];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:g}),e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl relative z-10 animate-in zoom-in-95 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Y,{size:24}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Report Issue"})]}),e.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:e.jsx(E,{size:20})})]}),e.jsxs("div",{className:"mb-4 text-sm text-gray-500",children:["Order #",d.id.split("-")[1]," from ",(h=d.items[0])==null?void 0:h.restaurantName]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What went wrong?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(t=>e.jsx("button",{type:"button",onClick:()=>p(t),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-colors ${r===t?"bg-red-50 border-red-500 text-red-700":"bg-white border-gray-200 text-gray-600 hover:border-gray-300"}`,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Details"}),e.jsx("textarea",{required:!0,value:u,onChange:t=>f(t.target.value),placeholder:"Please provide more details...",className:"w-full p-3 rounded-xl border border-gray-200 focus:border-brand-500 focus:ring-2 focus:ring-brand-200 outline-none text-sm min-h-[100px]"})]}),e.jsx(a,{type:"submit",size:"lg",className:"w-full bg-red-600 hover:bg-red-700 border-transparent text-white",children:"Submit Report"})]})]})]})},Ve=()=>{const[d,x]=l.useState("orders"),[g,o]=l.useState(!1),{user:r,logout:p,addToCart:u,addAddress:f,updateCurrentUser:j}=X(),{orders:y,updateUser:h}=R(),t=G(),[N,z]=l.useState(null),[v,S]=l.useState(""),[w,P]=l.useState(""),[n,b]=l.useState({name:"",email:"",phone:""}),[m,C]=l.useState({orders:!0,promos:!0,security:!0}),[k,A]=l.useState([{id:1,last4:"4242",brand:"Visa",exp:"12/25"},{id:2,last4:"8833",brand:"Mastercard",exp:"09/24"}]);if(l.useEffect(()=>{r?b({name:r.name,email:r.email,phone:r.phone}):(c.error("Please login to view profile"),t("/login"))},[r,t]),!r)return null;const D=y.filter(s=>s.userId===r.id),F=s=>{s.forEach(i=>u(i)),c.success("Items added to cart"),t("/checkout")},H=()=>{p(),t("/feed")},I=s=>{s.preventDefault(),v&&w&&(f({label:v,fullAddress:w}),o(!1),S(""),P(""))},T=s=>{s.preventDefault(),j(n),h(r.id,n),c.success("Profile updated successfully")},q=()=>{c.success("Password reset link sent to your email.")},U=()=>{const s={id:Date.now(),last4:Math.floor(1e3+Math.random()*9e3).toString(),brand:"Visa",exp:"01/28"};A([...k,s]),c.success("New card added")},W=s=>{A(k.filter(i=>i.id!==s)),c.success("Card removed")},V=s=>{switch(s){case"Delivered":return"text-green-600 bg-green-50";case"Preparing":return"text-blue-600 bg-blue-50";case"Cancelled":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(J,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-100 mb-8 flex flex-col md:flex-row items-center gap-6 relative overflow-hidden",children:[e.jsx("div",{className:"w-24 h-24 rounded-full p-1 bg-white border-2 border-brand-100 z-10",children:e.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-full object-cover"})}),e.jsxs("div",{className:"flex-1 text-center md:text-left z-10",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 md:gap-4 text-gray-500 text-sm mt-1",children:[e.jsx("span",{children:r.email}),e.jsx("span",{className:"hidden md:inline",children:"•"}),e.jsx("span",{children:r.phone}),e.jsx("span",{className:"hidden md:inline",children:"•"}),e.jsxs("span",{children:["Member since ",r.memberSince]})]})]}),e.jsxs("div",{className:"flex gap-3 z-10",children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>t("/wallet"),className:"gap-2 border-brand-200 text-brand-700 bg-brand-50 hover:bg-brand-100",children:[e.jsx(Z,{size:16}),"Wallet: $",r.walletBalance.toFixed(2)]}),e.jsxs(a,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>x("settings"),children:[e.jsx(O,{size:16}),"Edit Profile"]})]}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-50 rounded-full blur-3xl opacity-50 transform translate-x-1/2 -translate-y-1/2"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden sticky top-24",children:e.jsxs("nav",{className:"flex flex-col p-2",children:[e.jsxs("button",{onClick:()=>x("orders"),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d==="orders"?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(_,{size:18}),"Order History"]}),e.jsxs("button",{onClick:()=>x("addresses"),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d==="addresses"?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(M,{size:18}),"Saved Addresses"]}),e.jsxs("button",{onClick:()=>x("settings"),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${d==="settings"?"bg-brand-50 text-brand-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(O,{size:18}),"Settings & Preferences"]}),e.jsxs("button",{onClick:()=>t("/support"),className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:[e.jsx(ee,{size:18}),"Help & Support"]}),e.jsx("div",{className:"h-px bg-gray-100 my-2"}),e.jsx("p",{className:"px-4 py-2 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Demo Portals"}),e.jsxs("button",{onClick:()=>t("/partner/dashboard"),className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors w-full text-left",children:[e.jsx($,{size:18}),"Partner Portal"]}),e.jsxs("button",{onClick:()=>t("/rider/dashboard"),className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors w-full text-left",children:[e.jsx(se,{size:18}),"Rider App"]}),e.jsxs("button",{onClick:()=>t("/admin/dashboard"),className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors w-full text-left",children:[e.jsx(te,{size:18}),"Admin Panel"]}),e.jsx("div",{className:"h-px bg-gray-100 my-2"}),e.jsxs("button",{onClick:H,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 transition-colors w-full text-left",children:[e.jsx(re,{size:18}),"Sign Out"]})]})})}),e.jsxs("div",{className:"lg:col-span-3",children:[d==="orders"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Past Orders"}),D.length===0&&e.jsx("p",{className:"text-gray-500",children:"No orders found."}),D.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsxs("h3",{className:"font-bold text-gray-900 cursor-pointer hover:text-brand-600",onClick:()=>t(`/tracking/${s.id}`),children:["Order #",s.id.split("-")[1]]}),e.jsxs("span",{className:`px-2 py-0.5 rounded text-xs font-bold flex items-center gap-1 ${V(s.status)}`,children:[s.status==="Delivered"&&e.jsx(ae,{size:12}),s.status==="Preparing"&&e.jsx(le,{size:12}),s.status==="Cancelled"&&e.jsx(de,{size:12}),s.status]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.date}),s.isDisputed&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 mt-2 rounded bg-red-100 text-red-700 text-xs font-bold",children:[e.jsx(ie,{size:10})," Dispute: ",s.disputeStatus]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-gray-900 text-lg",children:["$",s.total.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.items.length," items"]})]})]}),e.jsx("div",{className:"space-y-4 mb-6",children:s.items.map((i,Q)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:i.image,alt:i.title,className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[i.restaurantName," • Qty: ",i.quantity]})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["$",i.price]})]},Q))}),e.jsxs("div",{className:"flex gap-3 border-t border-gray-100 pt-4",children:[e.jsx(a,{size:"sm",onClick:()=>F(s.items),className:"flex-1 md:flex-none",children:"Reorder All"}),e.jsx(a,{variant:"outline",size:"sm",className:"flex-1 md:flex-none",onClick:()=>t(`/tracking/${s.id}`),children:"Track Order"}),!s.isDisputed&&s.status!=="Cancelled"&&e.jsx(a,{variant:"ghost",size:"sm",className:"ml-auto text-gray-400 hover:text-red-600 hidden md:flex",onClick:()=>z(s),children:"Report Issue"})]})]},s.id))]}),d==="addresses"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Saved Addresses"}),e.jsx(a,{size:"sm",variant:"outline",onClick:()=>o(!0),children:"Add New"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.addresses.map(s=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 relative group hover:border-brand-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.label==="Home"?e.jsx(L,{size:18,className:"text-brand-500"}):e.jsx($,{size:18,className:"text-brand-500"}),e.jsx("h3",{className:"font-bold text-gray-900",children:s.label}),s.label==="Home"&&e.jsx(K,{className:"ml-auto bg-gray-100 text-gray-500",children:"Default"})]}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:s.fullAddress}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"text-xs font-medium text-brand-600 hover:text-brand-700",children:"Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{className:"text-xs font-medium text-red-500 hover:text-red-600",children:"Delete"})]})]},s.id)),e.jsxs("div",{onClick:()=>o(!0),className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center text-gray-400 hover:border-brand-300 hover:text-brand-500 hover:bg-brand-50/50 transition-all cursor-pointer min-h-[160px]",children:[e.jsx(M,{size:32,className:"mb-2"}),e.jsx("span",{className:"font-medium text-sm",children:"Add New Address"})]})]})]}),d==="settings"&&e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Account Settings"}),e.jsxs("form",{onSubmit:T,className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(L,{className:"text-brand-500",size:20}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:n.name,onChange:s=>b({...n,name:s.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:n.email,onChange:s=>b({...n,email:s.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n.phone,onChange:s=>b({...n,phone:s.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(a,{type:"submit",size:"sm",className:"gap-2",children:[e.jsx(ne,{size:16})," Save Changes"]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(oe,{className:"text-brand-500",size:20}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Notifications"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Order Updates"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get notified about your order status."})]}),e.jsx("input",{type:"checkbox",checked:m.orders,onChange:s=>C({...m,orders:s.target.checked}),className:"w-5 h-5 text-brand-600 rounded focus:ring-brand-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Promotions & Offers"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive emails about new sales."})]}),e.jsx("input",{type:"checkbox",checked:m.promos,onChange:s=>C({...m,promos:s.target.checked}),className:"w-5 h-5 text-brand-600 rounded focus:ring-brand-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Security Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify me of login attempts."})]}),e.jsx("input",{type:"checkbox",checked:m.security,onChange:s=>C({...m,security:s.target.checked}),className:"w-5 h-5 text-brand-600 rounded focus:ring-brand-500"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(B,{className:"text-brand-500",size:20}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Payment Methods"})]}),e.jsx("div",{className:"space-y-3 mb-6",children:k.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white p-2 rounded border border-gray-200",children:e.jsx(B,{size:16,className:"text-gray-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm text-gray-900",children:[s.brand," •••• ",s.last4]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Expires ",s.exp]})]})]}),e.jsx("button",{onClick:()=>W(s.id),className:"text-gray-400 hover:text-red-500",children:e.jsx(ce,{size:16})})]},s.id))}),e.jsxs(a,{variant:"outline",size:"sm",className:"w-full gap-2 border-dashed border-gray-300 text-gray-500 hover:text-brand-600 hover:border-brand-500 hover:bg-brand-50",onClick:U,children:[e.jsx(xe,{size:16})," Add Payment Method"]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[e.jsx(me,{className:"text-brand-500",size:20}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Security"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Password"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Last changed 3 months ago"})]}),e.jsx(a,{variant:"outline",size:"sm",onClick:q,children:"Change Password"})]})]})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-in zoom-in-95",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Add New Address"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(E,{size:20})})]}),e.jsxs("form",{onSubmit:I,children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label (e.g. Home, Office)"}),e.jsx("input",{required:!0,type:"text",value:v,onChange:s=>S(s.target.value),placeholder:"Home",className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address"}),e.jsx("textarea",{required:!0,value:w,onChange:s=>P(s.target.value),placeholder:"123 Street, City, Country",rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(a,{type:"button",variant:"ghost",className:"flex-1",onClick:()=>o(!1),children:"Cancel"}),e.jsx(a,{type:"submit",className:"flex-1",children:"Save Address"})]})]})]})}),N&&e.jsx(ge,{order:N,isOpen:!!N,onClose:()=>z(null)})]})]})};export{Ve as default};
