var ge=s=>{throw TypeError(s)};var re=(s,t,r)=>t.has(s)||ge("Cannot "+r);var i=(s,t,r)=>(re(s,t,"read from private field"),r?r.call(s):t.get(s)),j=(s,t,r)=>t.has(s)?ge("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,r),f=(s,t,r,a)=>(re(s,t,"write to private field"),a?a.call(s,r):t.set(s,r),r),b=(s,t,r)=>(re(s,t,"access private method"),r);import{S as Me,p as be,r as P,s as ie,a as q,n as ae,i as ne,b as ye,t as Le,c as se,f as Pe,d as $e,e as ve,g as Ie,h as R,k as ke,l as _e,A as Qe,m as De,o as je,j as e,u as Ue,q as Ae}from"./index-VfP6m85b.js";import{N as Be}from"./Navbar-n_vY8RJJ.js";import{F as ze}from"./Footer-BNGmg-KG.js";import{S as Ke}from"./search-BLQtzzYR.js";import{S as Fe,C as He,a as Ne,I as Ve}from"./constants-uCExn03A.js";import{M as we}from"./MealKitCard-DdNIbZfL.js";import{R as Ge}from"./RestaurantCard--LRdIXna.js";import{B as oe}from"./Button-Bb7kNBPQ.js";import{F as We}from"./share-2-xddQZZji.js";import{X as Ye}from"./x-CjeeDpu0.js";import{C as qe}from"./rotate-ccw-Dn9cKbGf.js";import{S as Xe}from"./sparkles-C6wVpFQs.js";import{S as Je}from"./star-C56QJWrF.js";import"./createLucideIcon-DFmN-LuL.js";import"./shopping-bag-Bj_l0DZ_.js";import"./chevron-right-BNFwQK5_.js";import"./utensils-DzBb5Vbu.js";import"./user-CkJPpAez.js";import"./bell-CD78KdNU.js";import"./message-square-Co5pN3cg.js";import"./terminal-CJhBBP2Q.js";import"./arrow-down-left-C7ZixOmS.js";import"./arrow-left-BUmXsksh.js";import"./arrow-right-BZEesLgH.js";import"./arrow-up-right-DBTiKqXd.js";import"./award-CSqCHGeg.js";import"./ban-B8JWNk0a.js";import"./crosshair-Da1HdHmw.js";import"./bike-C2pB_j3D.js";import"./chevron-down-DTHR6tgT.js";import"./briefcase-CnyCwuLt.js";import"./calendar-CRFumpeC.js";import"./chef-hat-DiFMjRgm.js";import"./chevron-left-B6psYVYE.js";import"./circle-alert-CfAZPNUX.js";import"./circle-check-big-CBrtI_cI.js";import"./circle-check-BniD2SWt.js";import"./circle-user-BjgKUcYs.js";import"./circle-x-LVsi0J3j.js";import"./clock-BDUvUDfP.js";import"./construction-TMth7-uj.js";import"./copy-DYBZPN4z.js";import"./corner-down-right-LIsF88Yy.js";import"./credit-card-BQJ9Vvig.js";import"./dollar-sign-BDEE6vm2.js";import"./download-BQU__ttB.js";import"./eye-D2BhecA7.js";import"./file-text-B6OX0v9m.js";import"./filter-CL0ZGi0Z.js";import"./gift-DAAbuWMQ.js";import"./globe-fcnCV3dc.js";import"./history-VQi1JO9K.js";import"./house-DkCrlDpl.js";import"./image-NX1N6wBk.js";import"./info-6luUHyc9.js";import"./menu-uXl-Z12H.js";import"./package-W2sR41BY.js";import"./list-CYo7iZ3c.js";import"./lock-yG5t8AQw.js";import"./log-out-C4kmEV_B.js";import"./mail-BXIopT9h.js";import"./map-pin-D0ZZYAaa.js";import"./map-D1im1oiW.js";import"./megaphone-QbI62z3q.js";import"./minus--nWI2E3p.js";import"./monitor-CchA7Iph.js";import"./navigation-BGzE33tI.js";import"./pen-f37yEUhU.js";import"./phone-B0KevnUG.js";import"./plus-UeddppCd.js";import"./save-CxwMZ4_i.js";import"./send-7p_JSYif.js";import"./settings-Oiv2EliN.js";import"./shield-check-C0EcYMRw.js";import"./shield-Cuv-kNRg.js";import"./square-pen-BaoYyTMX.js";import"./store-BAfjEu1u.js";import"./tag-ntW6mLAd.js";import"./thumbs-up-B-CRlQOB.js";import"./trash-2-BF-qCMfU.js";import"./trending-up-hpJpovTe.js";import"./triangle-alert-DmG0f53u.js";import"./user-plus-DewBTWJf.js";import"./users-CPENid_W.js";import"./utensils-crossed-Bsf9XfRA.js";import"./wallet-aV0cL5V5.js";import"./Badge-BkPW-nYC.js";import"./ProductModal-BoSD7h7k.js";var E,c,X,C,U,H,k,_,J,V,G,A,B,Q,W,u,Y,le,ce,de,he,ue,me,pe,Oe,Ee,Ze=(Ee=class extends Me{constructor(t,r){super();j(this,u);j(this,E);j(this,c);j(this,X);j(this,C);j(this,U);j(this,H);j(this,k);j(this,_);j(this,J);j(this,V);j(this,G);j(this,A);j(this,B);j(this,Q);j(this,W,new Set);this.options=r,f(this,E,t),f(this,_,null),f(this,k,be()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,c).addObserver(this),Re(i(this,c),this.options)?b(this,u,Y).call(this):this.updateResult(),b(this,u,he).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xe(i(this,c),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xe(i(this,c),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,u,ue).call(this),b(this,u,me).call(this),i(this,c).removeObserver(this)}setOptions(t){const r=this.options,a=i(this,c);if(this.options=i(this,E).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof P(this.options.enabled,i(this,c))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,u,pe).call(this),i(this,c).setOptions(this.options),r._defaulted&&!ie(this.options,r)&&i(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,c),observer:this});const o=this.hasListeners();o&&Ce(i(this,c),a,this.options,r)&&b(this,u,Y).call(this),this.updateResult(),o&&(i(this,c)!==a||P(this.options.enabled,i(this,c))!==P(r.enabled,i(this,c))||q(this.options.staleTime,i(this,c))!==q(r.staleTime,i(this,c)))&&b(this,u,le).call(this);const l=b(this,u,ce).call(this);o&&(i(this,c)!==a||P(this.options.enabled,i(this,c))!==P(r.enabled,i(this,c))||l!==i(this,Q))&&b(this,u,de).call(this,l)}getOptimisticResult(t){const r=i(this,E).getQueryCache().build(i(this,E),t),a=this.createResult(r,t);return tt(this,a)&&(f(this,C,a),f(this,H,this.options),f(this,U,i(this,c).state)),a}getCurrentResult(){return i(this,C)}trackResult(t,r){return new Proxy(t,{get:(a,o)=>(this.trackProp(o),r==null||r(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&i(this,k).status==="pending"&&i(this,k).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,o))})}trackProp(t){i(this,W).add(t)}getCurrentQuery(){return i(this,c)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=i(this,E).defaultQueryOptions(t),a=i(this,E).getQueryCache().build(i(this,E),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return b(this,u,Y).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,C)))}createResult(t,r){var Z;const a=i(this,c),o=this.options,l=i(this,C),h=i(this,U),S=i(this,H),N=t!==a?t.state:i(this,X),{state:n}=t;let d={...n},I=!1,p;if(r._optimisticResults){const T=this.hasListeners(),ee=!T&&Re(t,r),K=T&&Ce(t,a,r,o);(ee||K)&&(d={...d,...$e(n.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:$,status:y}=d;p=d.data;let D=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let T;l!=null&&l.isPlaceholderData&&r.placeholderData===(S==null?void 0:S.placeholderData)?(T=l.data,D=!0):T=typeof r.placeholderData=="function"?r.placeholderData((Z=i(this,G))==null?void 0:Z.state.data,i(this,G)):r.placeholderData,T!==void 0&&(y="success",p=ve(l==null?void 0:l.data,T,r),I=!0)}if(r.select&&p!==void 0&&!D)if(l&&p===(h==null?void 0:h.data)&&r.select===i(this,J))p=i(this,V);else try{f(this,J,r.select),p=r.select(p),p=ve(l==null?void 0:l.data,p,r),f(this,V,p),f(this,_,null)}catch(T){f(this,_,T)}i(this,_)&&(m=i(this,_),p=i(this,V),$=Date.now(),y="error");const z=d.fetchStatus==="fetching",x=y==="pending",v=y==="error",F=x&&z,M=p!==void 0,O={status:y,fetchStatus:d.fetchStatus,isPending:x,isSuccess:y==="success",isError:v,isInitialLoading:F,isLoading:F,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:$,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>N.dataUpdateCount||d.errorUpdateCount>N.errorUpdateCount,isFetching:z,isRefetching:z&&!x,isLoadingError:v&&!M,isPaused:d.fetchStatus==="paused",isPlaceholderData:I,isRefetchError:v&&M,isStale:fe(t,r),refetch:this.refetch,promise:i(this,k),isEnabled:P(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=te=>{O.status==="error"?te.reject(O.error):O.data!==void 0&&te.resolve(O.data)},ee=()=>{const te=f(this,k,O.promise=be());T(te)},K=i(this,k);switch(K.status){case"pending":t.queryHash===a.queryHash&&T(K);break;case"fulfilled":(O.status==="error"||O.data!==K.value)&&ee();break;case"rejected":(O.status!=="error"||O.error!==K.reason)&&ee();break}}return O}updateResult(){const t=i(this,C),r=this.createResult(i(this,c),this.options);if(f(this,U,i(this,c).state),f(this,H,this.options),i(this,U).data!==void 0&&f(this,G,i(this,c)),ie(r,t))return;f(this,C,r);const a=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!i(this,W).size)return!0;const h=new Set(l??i(this,W));return this.options.throwOnError&&h.add("error"),Object.keys(i(this,C)).some(S=>{const g=S;return i(this,C)[g]!==t[g]&&h.has(g)})};b(this,u,Oe).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,u,he).call(this)}},E=new WeakMap,c=new WeakMap,X=new WeakMap,C=new WeakMap,U=new WeakMap,H=new WeakMap,k=new WeakMap,_=new WeakMap,J=new WeakMap,V=new WeakMap,G=new WeakMap,A=new WeakMap,B=new WeakMap,Q=new WeakMap,W=new WeakMap,u=new WeakSet,Y=function(t){b(this,u,pe).call(this);let r=i(this,c).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ae)),r},le=function(){b(this,u,ue).call(this);const t=q(this.options.staleTime,i(this,c));if(ne||i(this,C).isStale||!ye(t))return;const a=Le(i(this,C).dataUpdatedAt,t)+1;f(this,A,se.setTimeout(()=>{i(this,C).isStale||this.updateResult()},a))},ce=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,c)):this.options.refetchInterval)??!1},de=function(t){b(this,u,me).call(this),f(this,Q,t),!(ne||P(this.options.enabled,i(this,c))===!1||!ye(i(this,Q))||i(this,Q)===0)&&f(this,B,se.setInterval(()=>{(this.options.refetchIntervalInBackground||Pe.isFocused())&&b(this,u,Y).call(this)},i(this,Q)))},he=function(){b(this,u,le).call(this),b(this,u,de).call(this,b(this,u,ce).call(this))},ue=function(){i(this,A)&&(se.clearTimeout(i(this,A)),f(this,A,void 0))},me=function(){i(this,B)&&(se.clearInterval(i(this,B)),f(this,B,void 0))},pe=function(){const t=i(this,E).getQueryCache().build(i(this,E),this.options);if(t===i(this,c))return;const r=i(this,c);f(this,c,t),f(this,X,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Oe=function(t){Ie.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(i(this,C))}),i(this,E).getQueryCache().notify({query:i(this,c),type:"observerResultsUpdated"})})},Ee);function et(s,t){return P(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Re(s,t){return et(s,t)||s.state.data!==void 0&&xe(s,t,t.refetchOnMount)}function xe(s,t,r){if(P(t.enabled,s)!==!1&&q(t.staleTime,s)!=="static"){const a=typeof r=="function"?r(s):r;return a==="always"||a!==!1&&fe(s,t)}return!1}function Ce(s,t,r,a){return(s!==t||P(a.enabled,s)===!1)&&(!r.suspense||s.state.status!=="error")&&fe(s,r)}function fe(s,t){return P(t.enabled,s)!==!1&&s.isStaleByTime(q(t.staleTime,s))}function tt(s,t){return!ie(s.getCurrentResult(),t)}var Te=R.createContext(!1),st=()=>R.useContext(Te);Te.Provider;function rt(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var it=R.createContext(rt()),at=()=>R.useContext(it),nt=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},ot=s=>{R.useEffect(()=>{s.clearReset()},[s])},lt=({result:s,errorResetBoundary:t,throwOnError:r,query:a,suspense:o})=>s.isError&&!t.isReset()&&!s.isFetching&&a&&(o&&s.data===void 0||ke(r,[s.error,a])),ct=s=>{if(s.suspense){const r=o=>o==="static"?o:Math.max(o??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...o)=>r(a(...o)):r(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},dt=(s,t)=>s.isLoading&&s.isFetching&&!t,ht=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Se=(s,t,r)=>t.fetchOptimistic(s).catch(()=>{r.clearReset()});function ut(s,t,r){var d,I,p,m,$;const a=st(),o=at(),l=_e(),h=l.defaultQueryOptions(s);(I=(d=l.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||I.call(d,h),h._optimisticResults=a?"isRestoring":"optimistic",ct(h),nt(h,o),ot(o);const S=!l.getQueryCache().get(h.queryHash),[g]=R.useState(()=>new t(l,h)),N=g.getOptimisticResult(h),n=!a&&s.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(y=>{const D=n?g.subscribe(Ie.batchCalls(y)):ae;return g.updateResult(),D},[g,n]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),R.useEffect(()=>{g.setOptions(h)},[h,g]),ht(h,N))throw Se(h,g,o);if(lt({result:N,errorResetBoundary:o,throwOnError:h.throwOnError,query:l.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw N.error;if((m=(p=l.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,h,N),h.experimental_prefetchInRender&&!ne&&dt(N,a)){const y=S?Se(h,g,o):($=l.getQueryCache().get(h.queryHash))==null?void 0:$.promise;y==null||y.catch(ae).finally(()=>{g.updateResult()})}return h.notifyOnChangeProps?N:g.trackResult(N)}function mt(s,t){return ut(s,Ze)}const pt=async()=>{await new Promise(t=>setTimeout(t,Qe.API.SIMULATED_DELAY_MIN));const s=De.getState();return s.restaurants.length===0?je:{...je,restaurants:s.restaurants,mealKits:s.mealKits,orders:s.orders,chefs:s.chefs,reviews:s.reviews}},xt=()=>mt({queryKey:["feed"],queryFn:pt}),ft=({value:s,onChange:t})=>e.jsx("div",{className:"relative w-full max-w-4xl mx-auto",children:e.jsxs("div",{className:"relative flex items-center w-full h-12 rounded-full focus-within:shadow-lg bg-gray-100 overflow-hidden transition-shadow",children:[e.jsx("div",{className:"grid place-items-center h-full w-12 text-gray-400",children:e.jsx(Ke,{size:20})}),e.jsx("input",{className:"peer h-full w-full outline-none text-sm text-gray-700 pr-2 bg-transparent placeholder-gray-500",type:"text",id:"search",placeholder:"Search for dishes, cuisines, restaurants, or chefs...",value:s,onChange:r=>t(r.target.value)}),e.jsx("div",{className:"pr-1",children:e.jsxs("button",{className:"flex items-center gap-2 bg-brand-500 hover:bg-brand-600 text-white rounded-full px-5 py-2 text-sm font-medium transition-colors",children:[e.jsx(Fe,{size:16}),"Filters"]})})]})}),gt=({trending:s,chefs:t})=>{const r=Ue();return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-brand-500 to-brand-600 rounded-2xl p-6 text-white text-center shadow-lg shadow-brand-200",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mb-4",children:e.jsx(He,{size:24,className:"text-white"})}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Go Premium"}),e.jsx("p",{className:"text-brand-50 text-sm mb-6",children:"Unlock exclusive recipes, priority delivery, and chef consultations."}),e.jsx("button",{className:"w-full bg-white text-brand-600 font-bold py-2 rounded-xl text-sm hover:bg-brand-50 transition-colors",children:"Upgrade Now"})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 flex items-center",children:e.jsx("span",{className:"mr-2",children:"Trending Now"})}),e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 p-2 -mx-2 rounded-lg transition-colors",children:[e.jsx("img",{src:a.image,className:"w-12 h-12 rounded-lg object-cover",alt:a.name}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.restaurant})]}),e.jsxs("div",{className:"flex items-center text-xs font-medium text-orange-500 bg-orange-50 px-2 py-1 rounded-full",children:[e.jsx(We,{size:10,className:"mr-1"}),a.orders]})]},a.id))})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Top Chefs This Week"}),e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:"flex items-center justify-between group cursor-pointer",onClick:()=>r(`/chef/${a.id}`),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.avatar,className:"w-10 h-10 rounded-full object-cover ring-2 ring-gray-100 group-hover:ring-brand-500 transition-all",alt:a.name}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900 group-hover:text-brand-500 transition-colors",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.specialty})]})]}),e.jsx(oe,{variant:"secondary",size:"sm",className:"!px-3 !py-1 !text-xs !h-7",children:"View"})]},a.id))})]})]})},bt=({isOpen:s,onClose:t,onApply:r,initialFilters:a})=>{const[o,l]=R.useState(a);if(!s)return null;const h=n=>{l(d=>({...d,priceRange:d.priceRange.includes(n)?d.priceRange.filter(I=>I!==n):[...d.priceRange,n]}))},S=n=>{l(d=>({...d,dietary:d.dietary.includes(n)?d.dietary.filter(I=>I!==n):[...d.dietary,n]}))},g=()=>{r(o),t()},N=()=>{l({sortBy:"recommended",priceRange:[],dietary:[],minRating:null})};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity",onClick:t}),e.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Filters"}),e.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:e.jsx(Ye,{size:20})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3",children:"Sort By"}),e.jsx("div",{className:"space-y-2",children:["Recommended","Rating","Delivery Time","Price: Low to High"].map(n=>e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${o.sortBy===n.toLowerCase()?"border-brand-500":"border-gray-300"}`,children:o.sortBy===n.toLowerCase()&&e.jsx("div",{className:"w-2.5 h-2.5 bg-brand-500 rounded-full"})}),e.jsx("span",{className:`text-sm ${o.sortBy===n.toLowerCase()?"text-gray-900 font-medium":"text-gray-600"}`,children:n}),e.jsx("input",{type:"radio",name:"sort",className:"hidden",checked:o.sortBy===n.toLowerCase(),onChange:()=>l({...o,sortBy:n.toLowerCase()})})]},n))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3",children:"Price Range"}),e.jsx("div",{className:"flex gap-3",children:["$","$$","$$$","$$$$"].map(n=>e.jsx("button",{onClick:()=>h(n),className:`flex-1 py-2 rounded-xl text-sm font-bold border transition-colors ${o.priceRange.includes(n)?"bg-brand-50 border-brand-500 text-brand-600":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:n},n))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3",children:"Min Rating"}),e.jsx("div",{className:"flex gap-2",children:[3.5,4,4.5].map(n=>e.jsxs("button",{onClick:()=>l({...o,minRating:o.minRating===n?null:n}),className:`px-4 py-2 rounded-xl text-sm font-medium border transition-colors ${o.minRating===n?"bg-yellow-50 border-yellow-400 text-yellow-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[n,"+ Stars"]},n))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-3",children:"Dietary"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Vegetarian","Vegan","Gluten-Free","Halal","Paleo"].map(n=>e.jsxs("button",{onClick:()=>S(n),className:`px-3 py-1.5 rounded-full text-xs font-bold border transition-all ${o.dietary.includes(n)?"bg-green-50 border-green-500 text-green-700":"border-gray-200 text-gray-600 hover:border-gray-300 bg-white"}`,children:[o.dietary.includes(n)&&e.jsx(qe,{size:12,className:"inline mr-1"}),n]},n))})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 flex gap-3 bg-gray-50",children:[e.jsx(oe,{variant:"ghost",onClick:N,className:"flex-1",children:"Reset"}),e.jsx(oe,{onClick:g,className:"flex-[2]",children:"Apply Filters"})]})]})]})},L=({className:s="",variant:t="rectangular"})=>{const r="animate-pulse bg-gray-200",a=t==="circular"?"rounded-full":t==="text"?"rounded":"rounded-xl";return e.jsx("div",{className:`${r} ${a} ${s}`})},er=()=>{const{data:s,isLoading:t,error:r}=xt(),[a,o]=R.useState(""),[l,h]=R.useState("trending"),{user:S}=Ae(),[g,N]=R.useState(!1),[n,d]=R.useState({sortBy:"recommended",priceRange:[],dietary:[],minRating:null}),I=R.useMemo(()=>s?s.mealKits.slice(0,2):[],[s,S]),p=R.useMemo(()=>{if(!s)return{mealKits:[],restaurants:[]};const m=a.toLowerCase(),$=(x=[],v=[])=>{var M;if(l==="trending"||l==="popular"||l==="near_me")return!0;const F=(M=Ne.find(w=>w.id===l))==null?void 0:M.label.toLowerCase();return F?x.some(w=>w.toLowerCase().includes(F))||v.some(w=>w.toLowerCase().includes(F)):!0},y=(x,v,F,M=[])=>{if(n.priceRange.length>0){let w="$";if(x?w=x:v<15?w="$":v<25?w="$$":v<40?w="$$$":w="$$$$",!n.priceRange.includes(w))return!1}return!(n.minRating&&F<n.minRating||n.dietary.length>0&&!n.dietary.every(O=>M.some(Z=>Z.toLowerCase()===O.toLowerCase())))};let D=s.mealKits.filter(x=>{const v=x.title.toLowerCase().includes(m)||x.description.toLowerCase().includes(m),F=$(x.tags,[]),M=y(void 0,x.price,4.8,x.tags);return v&&F&&M}),z=s.restaurants.filter(x=>{const v=x.name.toLowerCase().includes(m)||x.cuisine.some(w=>w.toLowerCase().includes(m)),F=$([],x.cuisine),M=y(x.priceRange,0,x.rating,x.cuisine);return v&&F&&M});return n.sortBy==="price: low to high"?D.sort((x,v)=>x.price-v.price):n.sortBy==="rating"&&z.sort((x,v)=>v.rating-x.rating),{mealKits:D,restaurants:z}},[s,a,l,n]);return r?e.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center text-red-500 gap-4",children:[e.jsx("p",{className:"font-bold",children:"Error loading data"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-brand-500 text-white rounded-full text-sm hover:bg-brand-600 transition-colors",children:"Retry"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900",children:[e.jsx(Be,{}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-12 text-center relative z-20",children:[e.jsxs("div",{className:"mb-8 relative max-w-4xl mx-auto",children:[e.jsx(ft,{value:a,onChange:o}),e.jsx("div",{className:"absolute top-1 right-1",children:e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 bg-brand-500 hover:bg-brand-600 text-white rounded-full px-5 py-2 text-sm font-medium transition-colors h-[40px] mt-[1px]",children:[e.jsx(Fe,{size:16}),"Filters",(n.dietary.length>0||n.priceRange.length>0||n.minRating)&&e.jsx("span",{className:"bg-white text-brand-600 text-[10px] w-4 h-4 rounded-full flex items-center justify-center",children:"!"})]})})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:Ne.map(m=>{const $=Ve[m.iconName]||Je,y=m.id===l;return e.jsxs("button",{onClick:()=>h(m.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${y?"bg-brand-500 text-white shadow-lg shadow-brand-500/30":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:[e.jsx($,{size:14}),m.label]},m.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"lg:col-span-9 space-y-12",children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{children:[e.jsx(L,{className:"h-8 w-48 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(m=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 h-[320px]",children:[e.jsx(L,{className:"h-48 w-full rounded-none"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(L,{className:"h-6 w-3/4",variant:"text"}),e.jsx(L,{className:"h-4 w-1/2",variant:"text"}),e.jsx(L,{className:"h-4 w-full",variant:"text"})]})]},m))})]}),e.jsxs("section",{children:[e.jsx(L,{className:"h-8 w-64 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(m=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 h-[300px]",children:[e.jsx(L,{className:"h-48 w-full rounded-none"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(L,{className:"h-6 w-3/4",variant:"text"}),e.jsx(L,{className:"h-4 w-1/2",variant:"text"})]})]},m))})]})]}),!t&&s&&e.jsxs(e.Fragment,{children:[S&&a===""&&l==="trending"&&I.length>0&&e.jsxs("section",{className:"bg-gradient-to-r from-brand-50 to-orange-50 p-6 rounded-2xl border border-brand-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Xe,{size:18,className:"text-brand-500"}),e.jsxs("h2",{className:"font-serif text-xl font-bold text-gray-900",children:["Picked for You, ",S.name.split(" ")[0]]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(m=>e.jsx(we,{item:m},m.id))})]}),p.mealKits.length>0&&e.jsxs("section",{children:[e.jsx("div",{className:"flex justify-between items-end mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-serif text-2xl font-bold text-gray-900",children:"Cook at Home Meal Kits"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Fresh ingredients delivered with easy-to-follow recipes"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.mealKits.map(m=>e.jsx(we,{item:m},m.id))})]}),p.restaurants.length>0&&e.jsxs("section",{children:[e.jsx("div",{className:"flex justify-between items-end mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"font-serif text-2xl font-bold text-gray-900",children:"Popular Restaurants Near You"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Order directly from top rated local spots"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.restaurants.map(m=>e.jsx(Ge,{restaurant:m},m.id))})]}),p.mealKits.length===0&&p.restaurants.length===0&&e.jsxs("div",{className:"text-center py-24 bg-white rounded-2xl border border-dashed border-gray-200",children:[e.jsx("p",{className:"text-gray-400 mb-2",children:"No results found for your filters."}),e.jsx("button",{onClick:()=>{o(""),h("trending"),d({sortBy:"recommended",priceRange:[],dietary:[],minRating:null})},className:"text-brand-600 font-medium hover:underline",children:"Clear all filters"})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"sticky top-24",children:t||!s?e.jsxs("div",{className:"space-y-6",children:[e.jsx(L,{className:"h-48 w-full rounded-2xl"}),e.jsx(L,{className:"h-64 w-full rounded-2xl"})]}):e.jsx(gt,{trending:s.trending,chefs:s.chefs})})})]})]}),e.jsx(ze,{}),e.jsx(bt,{isOpen:g,onClose:()=>N(!1),onApply:d,initialFilters:n})]})};export{er as default};
