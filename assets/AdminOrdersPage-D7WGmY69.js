import{m,h as c,j as e,v as h}from"./index-VfP6m85b.js";import{B as g}from"./Button-Bb7kNBPQ.js";import{C as b}from"./circle-alert-CfAZPNUX.js";import{S as y}from"./search-BLQtzzYR.js";import{E as j}from"./eye-D2BhecA7.js";import"./createLucideIcon-DFmN-LuL.js";const C=()=>{const{orders:l,resolveDispute:o}=m(),[a,r]=c.useState("All"),[d,x]=c.useState(""),i=l.filter(s=>{const t=a==="All"?!0:a==="Disputed"?s.isDisputed&&s.disputeStatus==="Open":s.status===a,u=s.id.toLowerCase().includes(d.toLowerCase());return t&&u}),p=l.filter(s=>s.isDisputed&&s.disputeStatus==="Open").length,n=(s,t)=>{o(s,t),h.success(`Order ${s} marked as ${t}`)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Global Orders"}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(g,{variant:a==="Disputed"?"primary":"outline",className:`${a==="Disputed"?"bg-red-600 hover:bg-red-700 border-red-600":"text-red-600 border-red-200 bg-red-50 hover:bg-red-100"}`,onClick:()=>r("Disputed"),children:[e.jsx(b,{size:16,className:"mr-2"}),"Disputes (",p,")"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex gap-4 bg-gray-50",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(y,{size:16,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order ID...",value:d,onChange:s=>x(s.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none text-sm"})]}),e.jsxs("select",{value:a,onChange:s=>r(s.target.value),className:"px-4 py-2 rounded-lg border border-gray-300 text-sm bg-white outline-none",children:[e.jsx("option",{value:"All",children:"All Statuses"}),e.jsx("option",{value:"Placed",children:"Placed"}),e.jsx("option",{value:"Delivered",children:"Delivered"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"}),e.jsx("option",{value:"Disputed",children:"Active Disputes"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Order ID"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Customer"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Restaurant"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Total"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map(s=>{var t;return e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${s.isDisputed&&s.disputeStatus==="Open"?"bg-red-50/50":""}`,children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("span",{className:"font-mono text-sm text-gray-900 font-bold",children:["#",s.id.split("-")[1]]}),s.isDisputed&&s.disputeStatus==="Open"&&e.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-red-100 text-red-600 text-[10px] font-bold rounded uppercase",children:"Disputed"})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.customerName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:((t=s.items[0])==null?void 0:t.restaurantName)||"Unknown"}),e.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900",children:["$",s.total.toFixed(2)]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${s.status==="Delivered"?"bg-green-100 text-green-700":s.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:s.status}),s.disputeStatus&&s.disputeStatus!=="Open"&&e.jsxs("span",{className:"block text-[10px] text-gray-400 mt-1",children:["Dispute: ",s.disputeStatus]})]}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"flex justify-end gap-2",children:s.isDisputed&&s.disputeStatus==="Open"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(s.id,"Refunded"),className:"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700 transition-colors",title:s.disputeReason,children:"Refund"}),e.jsx("button",{onClick:()=>n(s.id,"Resolved"),className:"px-2 py-1 bg-gray-200 text-gray-700 rounded text-xs hover:bg-gray-300 transition-colors",children:"Dismiss"})]}):e.jsxs("button",{className:"p-1.5 text-gray-500 hover:text-brand-600 hover:bg-gray-100 rounded flex items-center gap-1 text-xs font-medium border border-gray-200",children:[e.jsx(j,{size:14})," View"]})})})]},s.id)}),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-12 text-gray-400",children:"No orders found."})})]})]})})]})]})};export{C as default};
