import{h as u,j as e,m as k,v}from"./index-C4Bhj8Yd.js";import{B as b}from"./Button-Ba6Qo_8s.js";import{X as C}from"./x-BKaP5agP.js";import{I as S}from"./image-ZQKxMOWi.js";import{P as N}from"./plus-mHEB3IxS.js";import{T as w}from"./trash-2-BgLld3yM.js";import{S as I}from"./save-DqJw9DlW.js";import{E as M}from"./EmptyState-xAD4RVRN.js";import{S as z}from"./search-BdgAM8L-.js";import{U as E}from"./utensils-crossed-BzN_TX0q.js";import{P}from"./pen-Dj76qxmY.js";import"./createLucideIcon-DzImHIgp.js";const A=({item:l,isOpen:p,onClose:i,onSave:d})=>{const[a,n]=u.useState({name:"",description:"",price:0,category:"Meals",image:"",popular:!1,options:[]}),[o,m]=u.useState([]);u.useEffect(()=>{l?(n(l),m(l.options||[])):(n({name:"",description:"",price:0,category:"Meals",image:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&q=80&w=400",popular:!1,options:[]}),m([]))},[l,p]);const f=()=>{m([...o,{name:"",price:0}])},x=(r,t,c)=>{const s=[...o];s[r]={...s[r],[t]:c},m(s)},y=r=>{m(o.filter((t,c)=>c!==r))},g=r=>{r.preventDefault();const t={id:(l==null?void 0:l.id)||`m-${Date.now()}`,name:a.name,description:a.description,price:Number(a.price),category:a.category,image:a.image,popular:a.popular,options:o};d(t),i()};return p?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden relative z-10 animate-in zoom-in-95 max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:l?"Edit Item":"Add New Item"}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-200 rounded-full text-gray-500",children:e.jsx(C,{size:20})})]}),e.jsxs("form",{onSubmit:g,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex gap-6 flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/3 space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Item Image"}),e.jsxs("div",{className:"aspect-square rounded-xl bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden relative group",children:[a.image?e.jsx("img",{src:a.image,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"text-gray-400 flex flex-col items-center",children:[e.jsx(S,{size:32}),e.jsx("span",{className:"text-xs mt-2",children:"No image"})]}),e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(b,{type:"button",size:"sm",variant:"secondary",children:"Change"})})]}),e.jsx("input",{type:"text",placeholder:"Image URL",value:a.image,onChange:r=>n({...a,image:r.target.value}),className:"w-full text-xs p-2 border border-gray-200 rounded-lg"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name"}),e.jsx("input",{required:!0,type:"text",value:a.name,onChange:r=>n({...a,name:r.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)"}),e.jsx("input",{required:!0,type:"number",step:"0.01",value:a.price,onChange:r=>n({...a,price:Number(r.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:a.category,onChange:r=>n({...a,category:r.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none bg-white",children:[e.jsx("option",{children:"Meals"}),e.jsx("option",{children:"Starters"}),e.jsx("option",{children:"Dessert"}),e.jsx("option",{children:"Drinks"}),e.jsx("option",{children:"Seafood"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{required:!0,rows:3,value:a.description,onChange:r=>n({...a,description:r.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"popular",checked:a.popular,onChange:r=>n({...a,popular:r.target.checked}),className:"w-4 h-4 text-brand-500 rounded border-gray-300 focus:ring-brand-500"}),e.jsx("label",{htmlFor:"popular",className:"text-sm text-gray-700",children:"Mark as Popular"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm uppercase tracking-wide",children:"Customization Options"}),e.jsxs(b,{type:"button",size:"sm",variant:"secondary",onClick:f,className:"gap-2",children:[e.jsx(N,{size:14})," Add Option"]})]}),o.length===0?e.jsx("p",{className:"text-gray-400 text-sm text-center py-4 bg-gray-50 rounded-lg border border-dashed border-gray-200",children:"No options added. (e.g. Extra Cheese, Spicy Level)"}):e.jsx("div",{className:"space-y-3",children:o.map((r,t)=>e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{type:"text",placeholder:"Option Name (e.g. Extra Sauce)",value:r.name,onChange:c=>x(t,"name",c.target.value),className:"flex-1 px-3 py-2 rounded-lg border border-gray-300 text-sm"}),e.jsxs("div",{className:"relative w-24",children:[e.jsx("span",{className:"absolute left-2 top-2 text-gray-500 text-xs",children:"$"}),e.jsx("input",{type:"number",step:"0.01",placeholder:"Price",value:r.price,onChange:c=>x(t,"price",Number(c.target.value)),className:"w-full pl-5 pr-2 py-2 rounded-lg border border-gray-300 text-sm"})]}),e.jsx("button",{type:"button",onClick:()=>y(t),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(w,{size:16})})]},t))})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3",children:[e.jsx(b,{type:"button",variant:"ghost",onClick:i,children:"Cancel"}),e.jsxs(b,{type:"button",onClick:g,className:"gap-2",children:[e.jsx(I,{size:16})," Save Item"]})]})]})]}):null},G=()=>{const{restaurants:l,updateMenu:p}=k(),i=l[0],[d,a]=u.useState(""),[n,o]=u.useState(!1),[m,f]=u.useState(null),x=i.menu||[],y=x.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())||s.category.toLowerCase().includes(d.toLowerCase())),g=()=>{f(null),o(!0)},r=s=>{f(s),o(!0)},t=s=>{if(confirm("Are you sure you want to delete this item?")){const h=x.filter(j=>j.id!==s);p(i.id,h),v.success("Item deleted successfully")}},c=s=>{if(m){const h=x.map(j=>j.id===s.id?s:j);p(i.id,h),v.success("Item updated successfully")}else{const h=[s,...x];p(i.id,h),v.success("New item added to menu")}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Menu Management"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Manage your items, prices, and availability."})]}),e.jsxs(b,{className:"flex items-center gap-2",onClick:g,children:[e.jsx(N,{size:18}),"Add New Item"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center gap-4 bg-gray-50",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(z,{size:16,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search items...",value:d,onChange:s=>a(s.target.value),className:"w-full pl-9 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-brand-500 outline-none text-sm"})]}),e.jsxs("select",{className:"px-4 py-2 rounded-lg border border-gray-300 text-sm bg-white outline-none",children:[e.jsx("option",{children:"All Categories"}),e.jsx("option",{children:"Meals"}),e.jsx("option",{children:"Drinks"})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 border-b border-gray-200 text-xs font-bold text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"col-span-6 md:col-span-5",children:"Item"}),e.jsx("div",{className:"col-span-3 md:col-span-2",children:"Category"}),e.jsx("div",{className:"col-span-3 md:col-span-2",children:"Price"}),e.jsx("div",{className:"col-span-3 hidden md:block text-center",children:"Status"}),e.jsx("div",{className:"col-span-12 md:col-span-1 text-right",children:"Actions"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:y.length===0?e.jsx("div",{className:"p-8",children:e.jsx(M,{icon:E,title:"No Items Found",description:d?"No menu items match your search.":"Start by adding items to your menu.",actionLabel:d?void 0:"Add First Item",onAction:d?void 0:g,className:"border-none py-12"})}):y.map(s=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"col-span-6 md:col-span-5 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden shrink-0 border border-gray-200",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 text-sm",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 hidden sm:block",children:s.description})]})]}),e.jsx("div",{className:"col-span-3 md:col-span-2",children:e.jsx("span",{className:"inline-block px-2 py-1 rounded-md bg-gray-100 text-xs font-medium text-gray-600",children:s.category})}),e.jsxs("div",{className:"col-span-3 md:col-span-2 text-sm font-bold text-gray-900",children:["$",s.price.toFixed(2)]}),e.jsx("div",{className:"col-span-3 hidden md:flex justify-center",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-brand-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-green-500"}),e.jsx("span",{className:"ml-2 text-xs font-medium text-gray-600",children:"In Stock"})]})}),e.jsxs("div",{className:"col-span-12 md:col-span-1 flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>r(s),className:"p-2 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",children:e.jsx(P,{size:16})}),e.jsx("button",{onClick:()=>t(s.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(w,{size:16})})]})]},s.id))})]}),e.jsx(A,{isOpen:n,onClose:()=>o(!1),item:m,onSave:c})]})};export{G as default};
