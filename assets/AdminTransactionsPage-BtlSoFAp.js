import{m as p,j as e,v as x}from"./index-C4Bhj8Yd.js";import{B as l}from"./Button-Ba6Qo_8s.js";import{F as y}from"./filter-lUTUi9pX.js";import{D as h}from"./download-DBtA1VCA.js";import{A as r}from"./arrow-down-left-Dafoo1WO.js";import{A as u}from"./arrow-up-right-3GoEiShl.js";import"./createLucideIcon-DzImHIgp.js";const w=()=>{const{orders:d}=p(),i=d.flatMap(t=>{const a={id:`TX-${t.id.split("-")[1]}`,type:"Payment",amount:t.total,status:"Completed",date:t.date,entity:t.customerName,method:t.paymentMethod==="card"?"Credit Card":t.paymentMethod==="wallet"?"Wallet":"Cash",description:`Order Payment #${t.id}`},o={id:`CM-${t.id.split("-")[1]}`,type:"Commission",amount:t.total*.15,status:"Completed",date:t.date,entity:"Platform Revenue",method:"Internal",description:`Commission from Order #${t.id}`};return[a,o]}),c=()=>{const a=[["Transaction ID","Type","Entity","Date","Amount","Status","Method"].join(","),...i.map(s=>[s.id,s.type,`"${s.entity}"`,`"${s.date}"`,s.amount.toFixed(2),s.status,s.method].join(","))].join(`
`),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(o),n=document.createElement("a");n.href=m,n.setAttribute("download","to-eat_transactions.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),x.success("Transactions exported successfully")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Transactions"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Audit trail of all payments, commissions, and refunds."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",className:"gap-2",children:[e.jsx(y,{size:16})," Filter"]}),e.jsxs(l,{variant:"outline",className:"gap-2",onClick:c,children:[e.jsx(h,{size:16})," Export CSV"]})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Transaction ID"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Type"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Entity"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Date"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Amount"}),e.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map((t,a)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 font-mono text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[t.type==="Payment"&&e.jsx(r,{size:16,className:"text-green-500"}),t.type==="Commission"&&e.jsx(r,{size:16,className:"text-blue-500"}),t.type==="Payout"&&e.jsx(u,{size:16,className:"text-orange-500"}),t.type]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.entity}),e.jsx("p",{className:"text-xs text-gray-500",children:t.method})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:t.date}),e.jsxs("td",{className:`px-6 py-4 font-bold text-sm ${t.type==="Payment"||t.type==="Commission"?"text-green-600":"text-gray-900"}`,children:[t.type==="Payment"||t.type==="Commission"?"+":"",t.amount.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${t.status==="Completed"?"bg-green-100 text-green-700":t.status==="Processing"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-500"}`,children:t.status})})]},`${t.id}-${a}`)),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No transactions found."})})]})]})})]})};export{w as default};
