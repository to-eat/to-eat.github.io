import{m as y,j as e,v as g}from"./index-VfP6m85b.js";import{B as u}from"./Button-Bb7kNBPQ.js";import{D as j}from"./download-BQU__ttB.js";import{A as l}from"./arrow-up-right-DBTiKqXd.js";import{A as b}from"./arrow-down-left-C7ZixOmS.js";import"./createLucideIcon-DFmN-LuL.js";const F=()=>{const{orders:c}=y(),o=c.filter(s=>s.status==="Delivered"),n=o.reduce((s,d)=>s+d.total,0),i=n*.15,m=n-i,a=o.slice(0,10).map(s=>({id:`tx-${s.id}`,date:s.date,desc:`Earnings: Order #${s.id.split("-")[1]}`,amount:s.total*.85,type:"earning"}));a.length>0&&a.unshift({id:"tx-payout-1",date:"Yesterday",desc:"Weekly Payout",amount:-250,type:"payout"});const x=()=>{const d=[["ID","Date","Description","Amount","Type"].join(","),...a.map(t=>[t.id,`"${t.date}"`,`"${t.desc}"`,t.type==="payout"?-Math.abs(t.amount):t.amount,t.type].join(","))].join(`
`),p=new Blob([d],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(p),r=document.createElement("a");r.href=h,r.setAttribute("download","partner_finance_report.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),g.success("Finance report downloaded")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Overview"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Track your earnings and payouts."})]}),e.jsxs(u,{variant:"outline",className:"gap-2",onClick:x,children:[e.jsx(j,{size:16}),"Export Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Available Balance"}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["$",(m-250).toFixed(2)]}),e.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center gap-1",children:[e.jsx(l,{size:12})," Live Updates"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Total Earnings (Gross)"}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["$",n.toFixed(2)]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-sm font-medium mb-1",children:"Platform Commission (15%)"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsxs("span",{className:"text-xl font-bold text-red-600",children:["-$",i.toFixed(2)]})}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Deducted automatically"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Transaction History"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:a.length===0?e.jsx("div",{className:"p-6 text-center text-gray-400",children:"No transactions yet."}):a.map(s=>e.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="payout"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600"}`,children:s.type==="payout"?e.jsx(l,{size:18}):e.jsx(b,{size:18})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.desc}),e.jsx("p",{className:"text-xs text-gray-500",children:s.date})]})]}),e.jsxs("span",{className:`font-bold ${s.type==="payout"?"text-gray-900":"text-green-600"}`,children:[s.type==="payout"?"-":"+","$",Math.abs(s.amount).toFixed(2)]})]},s.id))})]})]})};export{F as default};
