import{w as C,u as k,q as S,m as A,h as a,j as e}from"./index-C4Bhj8Yd.js";import{N as P}from"./Navbar-BOC0zFRs.js";import{R}from"./ReviewsSection-AJgLYnBf.js";import{P as T}from"./ProductModal-DwoDR54k.js";import{B as z}from"./Button-Ba6Qo_8s.js";import{A as F}from"./arrow-left-DrMZxSIm.js";import{S as I}from"./star-G9yrjhzJ.js";import{M as $}from"./map-pin-HN--pi6j.js";import{C as B}from"./clock-C0rErjOu.js";import{S as E}from"./search-BdgAM8L-.js";import{P as M}from"./plus-mHEB3IxS.js";import"./createLucideIcon-DzImHIgp.js";import"./x-BKaP5agP.js";import"./shopping-bag-8vcxqj9-.js";import"./chevron-right-CAW2906d.js";import"./utensils-CiJvdMyj.js";import"./user-BxgYsqv1.js";import"./bell-B68-w34E.js";import"./message-square-Dci10IDA.js";import"./thumbs-up-Dk-uMUu3.js";import"./chef-hat-CHIDsiTw.js";import"./minus-DhoM-DRX.js";const ne=()=>{var p,u;const{id:o}=C(),c=k(),h=S(s=>s.addToCart),{restaurants:g,reviews:b}=A(),t=g.find(s=>s.id===o),d=b.filter(s=>s.targetId===o),[n,m]=a.useState("menu"),[i,f]=a.useState("All"),[l,x]=a.useState(null);if(a.useEffect(()=>{window.scrollTo(0,0)},[o]),!t)return e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center gap-4",children:[e.jsx("p",{className:"text-gray-500",children:"Restaurant not found"}),e.jsx(z,{onClick:()=>c("/feed"),children:"Back to Feed"})]});const j=["All",...Array.from(new Set(((p=t.menu)==null?void 0:p.map(s=>s.category))||[]))],r=i==="All"?t.menu:(u=t.menu)==null?void 0:u.filter(s=>s.category===i),v=(s,N,y,w)=>{h({id:s.id,title:s.name,price:s.price,image:s.image,restaurantName:t.name,restaurantId:t.id,quantity:N,selectedOptions:y,instructions:w})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(P,{}),e.jsxs("div",{className:"relative h-64 md:h-80 w-full",children:[e.jsx("img",{src:t.banner||t.image,alt:t.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("button",{onClick:()=>c("/feed"),className:"bg-white/20 backdrop-blur-md p-2 rounded-full text-white hover:bg-white/30 transition-colors",children:e.jsx(F,{size:24})})}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full p-6 md:p-8 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold mb-2 shadow-sm",children:t.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm font-medium",children:[e.jsxs("span",{className:"bg-green-500 px-2 py-0.5 rounded text-white flex items-center gap-1",children:[e.jsx(I,{size:12,fill:"currentColor"})," ",t.rating]}),e.jsxs("span",{className:"flex items-center gap-1 opacity-90",children:[e.jsx($,{size:14})," ",t.distance," mi"]}),e.jsxs("span",{className:"flex items-center gap-1 opacity-90",children:[e.jsx(B,{size:14})," ",t.deliveryTime]}),e.jsx("span",{className:"opacity-75",children:t.cuisine.join(" â€¢ ")}),e.jsx("span",{className:"opacity-75",children:t.priceRange})]})]})})]}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex border-b border-gray-200 mb-8",children:[e.jsx("button",{onClick:()=>m("menu"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${n==="menu"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Menu"}),e.jsxs("button",{onClick:()=>m("reviews"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${n==="reviews"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Reviews (",d.length,")"]})]}),n==="menu"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sticky top-20 z-30 bg-gray-50 pt-2 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Full Menu"}),e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx("input",{type:"text",placeholder:"Search menu...",className:"pl-9 pr-4 py-2 rounded-full bg-white border border-gray-200 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"}),e.jsx(E,{size:14,className:"absolute left-3 top-3 text-gray-400"})]})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:j.map(s=>e.jsx("button",{onClick:()=>f(s),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${i===s?"bg-brand-900 text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:s},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 pb-20",children:[r==null?void 0:r.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex gap-4 group hover:border-brand-200 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.name}),s.popular&&e.jsx("span",{className:"text-[10px] font-bold text-orange-500 bg-orange-50 px-2 py-0.5 rounded-full uppercase tracking-wide",children:"Popular"})]}),e.jsx("p",{className:"text-sm text-gray-500 line-clamp-2 mb-3 h-10",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"font-bold text-gray-900",children:["$",s.price.toFixed(2)]}),e.jsx("button",{onClick:()=>x(s),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-brand-600 hover:bg-brand-500 hover:text-white transition-all",children:e.jsx(M,{size:18})})]})]}),e.jsx("div",{className:"w-28 h-28 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})})]},s.id)),(r==null?void 0:r.length)===0&&e.jsx("div",{className:"col-span-2 text-center py-12 text-gray-400",children:"No menu items found in this category."})]})]}):e.jsx(R,{reviews:d,targetName:t.name})]}),l&&e.jsx(T,{item:l,isOpen:!!l,onClose:()=>x(null),onAddToCart:v})]})};export{ne as default};
